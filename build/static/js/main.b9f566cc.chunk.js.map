{"version":3,"sources":["getDataFromMinistry.js","index.js"],"names":["cheerio","require","updateData","cityList","newCityList","fetch","mode","then","response","text","data","$","load","cities","forEach","element","index","city","label","get","attribs","id","color","status","parseInt","replace","LightBulb","_useState","useState","_useState2","Object","slicedToArray","light","setLight","_useState3","value","_useState4","selectedCity","setSelectedCity","ruleId","citiesList","colorCode","key","fillColor","find","useEffect","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","stop","react_default","createElement","className","moment","locale","format","style","paddingTop","paddingBottom","textAlign","src_LightbulbSvg","react_select_esm","placeholder","options","onInputChange","newValue","charAt","toLocaleUpperCase","slice","onChange","val","cityStatus","item","ruleList","rules","map","el","indexOf","icon","LightbulbSvg","props","width","height","viewBox","version","stroke","strokeWidth","fill","fillRule","d","rootElement","document","getElementById","ReactDOM","render","src_LightBulb"],"mappings":"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","file":"static/js/main.b9f566cc.chunk.js","sourcesContent":["const cheerio = require(\"cheerio\");\r\n\r\nconst updateData = (cityList) => {\r\n  let newCityList = cityList;\r\n  fetch(\"https://covid19.saglik.gov.tr/?lang=tr-TR\", {\r\n    mode: \"cors\",\r\n  })\r\n    .then((response) => response.text())\r\n    .then((data) => {\r\n      const $ = cheerio.load(data);\r\n      cityList.cities.forEach((element, index) => {\r\n        const city = $(\"[data-adi=\" + element.label + \"]\").get(1);\r\n        if (city && city.attribs && city.attribs.id) {\r\n          const color = city.attribs.id;\r\n          newCityList.cities[index].status = parseInt(\r\n            color.replace(\"color_\", \"\"),\r\n            10\r\n          );\r\n        }\r\n      });\r\n    });\r\n  return newCityList;\r\n};\r\n\r\nexport default updateData;\r\n","// @flow\nimport React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Select from \"react-select\";\nimport citiesList from \"./city.json\";\nimport ruleList from \"./rules.json\";\nimport updateData from \"./getDataFromMinistry.js\";\nimport moment from \"moment\";\nimport \"moment/locale/tr\";\nimport \"./styles.css\";\n\nconst LightBulb = () => {\n  let [light, setLight] = useState(0);\n  let [selectedCity, setSelectedCity] = useState({ value: \"\", label: \"\" });\n  let ruleId = 1;\n  let cityList = citiesList;\n  const colorCode = [\n    {\n      key: 1,\n      value: \"#3363ff\",\n      label: \"Düşük riskli bölge\",\n    },\n    { key: 2, value: \"#ffbb73\", label: \"Orta riskli bölge\" },\n    { key: 3, value: \"#ff7f00\", label: \"Yüksek riskli bölge\" },\n    { key: 4, value: \"#ff3933\", label: \"Çok yüksek riskli bölge\" },\n  ];\n  const fillColor = colorCode.find((element) => element.key === light);\n  useEffect(async () => {\n    cityList = await updateData(cityList);\n  });\n  return (\n    <div className=\"App\">\n      <h4 className=\"title\">\n        {moment()\n          .locale(\"tr\")\n          .format(\"LL\") + \" tarihi illere göre güncel kısıtlama kuralları\"}\n      </h4>\n      <div style={{ paddingTop: 20, paddingBottom: 50, textAlign: \"center\" }}>\n        <LightbulbSvg fillColor={fillColor ? fillColor.value : \"#000\"} />\n      </div>\n      <div className=\"container\">\n        <Select\n          placeholder=\"Şehir seçiniz\"\n          label={selectedCity}\n          options={cityList.cities}\n          onInputChange={(newValue) => {\n            return (\n              newValue.charAt(0).toLocaleUpperCase(\"tr-TR\") + newValue.slice(1)\n            );\n          }}\n          onChange={(val) => {\n            const cityStatus = cityList.cities.find(\n              (item) => item.label === val.label\n            );\n            setLight(cityStatus.status);\n            setSelectedCity(val);\n          }}\n        />\n        {light !== 0 && selectedCity ? (\n          <h3 className=\"title\" style={{ color: colorCode[light - 1].value }}>\n            {colorCode[light - 1].label}\n          </h3>\n        ) : null}\n        {light !== 0 ? (\n          <ul>\n            {ruleList.rules.map((el) => {\n              if (el.ruleId === ruleId) {\n                const index = el.status.indexOf(light);\n                if (index > -1) {\n                  ruleId++;\n                  return (\n                    <li key={ruleId} className={\"rule-item-\" + el.icon}>\n                      {el.label}\n                    </li>\n                  );\n                }\n                return null;\n              }\n              return null;\n            })}\n          </ul>\n        ) : null}\n        {light !== 0 && selectedCity ? (\n          <h6 className=\"title\">\n            {\n              \"Bilgilendirme amaçlıdır, gerçeği yansıtmayabilir, sorumluluk kabul edilmez.\"\n            }\n          </h6>\n        ) : null}\n        {light !== 0 && selectedCity ? (\n          <h6 className=\"title\">\n            {\"Lovely developed by Hasan Kürşat Küçüköztaş\"}\n          </h6>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nconst LightbulbSvg = (props) => {\n  return (\n    <svg width=\"56px\" height=\"90px\" viewBox=\"0 0 56 90\" version=\"1.1\">\n      <defs />\n      <g\n        id=\"Page-1\"\n        stroke=\"none\"\n        strokeWidth=\"1\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n      >\n        <g id=\"noun_bulb_1912567\" fill=\"#000000\" fillRule=\"nonzero\">\n          <path\n            d=\"M38.985,68.873 L17.015,68.873 C15.615,68.873 14.48,70.009 14.48,71.409 C14.48,72.809 15.615,73.944 17.015,73.944 L38.986,73.944 C40.386,73.944 41.521,72.809 41.521,71.409 C41.521,70.009 40.386,68.873 38.985,68.873 Z\"\n            id=\"Shape\"\n          />\n          <path\n            d=\"M41.521,78.592 C41.521,77.192 40.386,76.057 38.986,76.057 L17.015,76.057 C15.615,76.057 14.48,77.192 14.48,78.592 C14.48,79.993 15.615,81.128 17.015,81.128 L38.986,81.128 C40.386,81.127 41.521,79.993 41.521,78.592 Z\"\n            id=\"Shape\"\n          />\n          <path\n            d=\"M18.282,83.24 C17.114,83.24 16.793,83.952 17.559,84.83 L21.806,89.682 C21.961,89.858 22.273,90 22.508,90 L33.492,90 C33.726,90 34.039,89.858 34.193,89.682 L38.44,84.83 C39.207,83.952 38.885,83.24 37.717,83.24 L18.282,83.24 Z\"\n            id=\"Shape\"\n          />\n          <path\n            d=\"M16.857,66.322 L39.142,66.322 C40.541,66.322 41.784,65.19 42.04,63.814 C44.63,49.959 55.886,41.575 55.886,27.887 C55.887,12.485 43.401,0 28,0 C12.599,0 0.113,12.485 0.113,27.887 C0.113,41.575 11.369,49.958 13.959,63.814 C14.216,65.19 15.458,66.322 16.857,66.322 Z\"\n            id=\"Shape\"\n            fill={props.fillColor}\n          />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<LightBulb />, rootElement);\n"],"sourceRoot":""}