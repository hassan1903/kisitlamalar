{"version":3,"sources":["getDataFromMinistry.js","index.js"],"names":["cheerio","require","updateData","cityList","newCityList","fetch","mode","then","response","text","data","$","load","cities","forEach","element","index","city","label","get","attribs","id","color","status","parseInt","replace","LightBulb","_useState","useState","_useState2","Object","slicedToArray","light","setLight","_useState3","value","_useState4","selectedCity","setSelectedCity","ruleId","citiesList","colorCode","key","fillColor","find","useEffect","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","json","country","region_code","currentLocation","stop","react_default","createElement","className","moment","locale","format","style","paddingTop","paddingBottom","textAlign","src_LightbulbSvg","react_select_esm","placeholder","options","onInputChange","newValue","charAt","toLocaleUpperCase","slice","onChange","val","cityStatus","item","ruleList","rules","map","el","indexOf","icon","href","src_TwitterIcon","LightbulbSvg","props","width","height","viewBox","version","stroke","strokeWidth","fill","fillRule","d","TwitterIcon","xmlns","x","y","rootElement","document","getElementById","ReactDOM","render","src_LightBulb"],"mappings":"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","file":"static/js/main.b7d15688.chunk.js","sourcesContent":["const cheerio = require(\"cheerio\");\r\n\r\nconst updateData = (cityList) => {\r\n  let newCityList = cityList;\r\n  fetch(\"https://covid19.saglik.gov.tr/?lang=tr-TR\", {\r\n    mode: \"cors\",\r\n  })\r\n    .then((response) => response.text())\r\n    .then((data) => {\r\n      const $ = cheerio.load(data);\r\n      cityList.cities.forEach((element, index) => {\r\n        const city = $(\"[data-adi=\" + element.label + \"]\").get(1);\r\n        if (city && city.attribs && city.attribs.id) {\r\n          const color = city.attribs.id;\r\n          newCityList.cities[index].status = parseInt(\r\n            color.replace(\"color_\", \"\"),\r\n            10\r\n          );\r\n        }\r\n      });\r\n    });\r\n  return newCityList;\r\n};\r\n\r\nexport default updateData;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Select from \"react-select\";\r\nimport citiesList from \"./city.json\";\r\nimport ruleList from \"./rules.json\";\r\nimport updateData from \"./getDataFromMinistry.js\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/tr\";\r\nimport \"./styles.css\";\r\n\r\nconst LightBulb = () => {\r\n  let [light, setLight] = useState(0);\r\n  let [selectedCity, setSelectedCity] = useState({\r\n    value: -1,\r\n    label: \"\",\r\n    status: -1,\r\n  });\r\n  let ruleId = 1;\r\n  let cityList = citiesList;\r\n  const colorCode = [\r\n    {\r\n      key: 1,\r\n      value: \"#0071c1\",\r\n      label: \"Düşük riskli bölge\",\r\n    },\r\n    { key: 2, value: \"#f0e513\", label: \"Orta riskli bölge\" },\r\n    { key: 3, value: \"#f8931f\", label: \"Yüksek riskli bölge\" },\r\n    { key: 4, value: \"#df1a23\", label: \"Çok yüksek riskli bölge\" },\r\n  ];\r\n  const fillColor = colorCode.find((element) => element.key === light);\r\n  useEffect(async () => {\r\n    cityList = await updateData(cityList);\r\n    fetch(\"https://ipapi.co/json/\")\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data && data.country === \"TR\" && data.region_code) {\r\n          const currentLocation = cityList.cities.find(\r\n            (element) => element.value === parseInt(data.region_code, 10)\r\n          );\r\n          setSelectedCity(currentLocation);\r\n          setLight(currentLocation.status);\r\n        }\r\n      });\r\n  }, []);\r\n  return (\r\n    <div className=\"App\">\r\n      <h4 className=\"title\">\r\n        {moment()\r\n          .locale(\"tr\")\r\n          .format(\"LL\") + \" tarihi illere göre güncel kısıtlama kuralları\"}\r\n      </h4>\r\n      <div style={{ paddingTop: 20, paddingBottom: 50, textAlign: \"center\" }}>\r\n        <LightbulbSvg fillColor={fillColor ? fillColor.value : \"#000\"} />\r\n      </div>\r\n      <div className=\"container\">\r\n        <Select\r\n          placeholder=\"Şehir seçiniz\"\r\n          label={selectedCity}\r\n          options={cityList.cities}\r\n          onInputChange={(newValue) =>\r\n            newValue.charAt(0).toLocaleUpperCase(\"tr-TR\") + newValue.slice(1)\r\n          }\r\n          value={selectedCity}\r\n          onChange={(val) => {\r\n            const cityStatus = cityList.cities.find(\r\n              (item) => item.label === val.label\r\n            );\r\n            setLight(cityStatus.status);\r\n            setSelectedCity(val);\r\n          }}\r\n        />\r\n        {light !== 0 && selectedCity ? (\r\n          <h3 className=\"title\" style={{ color: colorCode[light - 1].value }}>\r\n            {colorCode[light - 1].label}\r\n          </h3>\r\n        ) : null}\r\n        {light !== 0 ? (\r\n          <ul>\r\n            {ruleList.rules.map((el) => {\r\n              if (el.ruleId === ruleId) {\r\n                const index = el.status.indexOf(light);\r\n                if (index > -1) {\r\n                  ruleId++;\r\n                  return (\r\n                    <li\r\n                      key={ruleId}\r\n                      style={{ paddingBottom: 10 }}\r\n                      className={\"rule-item-\" + el.icon}\r\n                    >\r\n                      {el.label}\r\n                    </li>\r\n                  );\r\n                }\r\n                return null;\r\n              }\r\n              return null;\r\n            })}\r\n          </ul>\r\n        ) : null}\r\n        {light !== 0 && selectedCity ? (\r\n          <div className=\"footercontainer\">\r\n            <h6 className=\"title\">\r\n              {\r\n                \"Bilgilendirme amaçlıdır, gerçeği yansıtmayabilir, sorumluluk kabul edilmez.\"\r\n              }\r\n            </h6>\r\n            <a\r\n              href=\"https://twitter.com/intent/tweet?text=Ya%C5%9Fad%C4%B1%C4%9F%C4%B1m%20%C5%9Fehrin%20risk%20grubunu%20ve%20ge%C3%A7erli%20olan%20k%C4%B1s%C4%B1tlamalar%C4%B1%20%C3%B6%C4%9Frendim.%20Sende%20%C3%B6%C4%9Frenmek%20istiyorsan%3B&url=https%3A%2F%2Fhassan1903.github.io%2Fkisitlamalar\"\r\n              className=\"tweetbutton\"\r\n            >\r\n              <TwitterIcon />\r\n              <span className=\"tweetlabel\">Tweet</span>\r\n            </a>\r\n            <h6 className=\"title\">\r\n              {\"Lovely developed by Hasan Kürşat Küçüköztaş\"}\r\n            </h6>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst LightbulbSvg = (props) => {\r\n  return (\r\n    <svg width=\"56px\" height=\"90px\" viewBox=\"0 0 56 90\" version=\"1.1\">\r\n      <defs />\r\n      <g\r\n        id=\"Page-1\"\r\n        stroke=\"none\"\r\n        strokeWidth=\"1\"\r\n        fill=\"none\"\r\n        fillRule=\"evenodd\"\r\n      >\r\n        <g id=\"noun_bulb_1912567\" fill=\"#000000\" fillRule=\"nonzero\">\r\n          <path\r\n            d=\"M38.985,68.873 L17.015,68.873 C15.615,68.873 14.48,70.009 14.48,71.409 C14.48,72.809 15.615,73.944 17.015,73.944 L38.986,73.944 C40.386,73.944 41.521,72.809 41.521,71.409 C41.521,70.009 40.386,68.873 38.985,68.873 Z\"\r\n            id=\"Shape\"\r\n          />\r\n          <path\r\n            d=\"M41.521,78.592 C41.521,77.192 40.386,76.057 38.986,76.057 L17.015,76.057 C15.615,76.057 14.48,77.192 14.48,78.592 C14.48,79.993 15.615,81.128 17.015,81.128 L38.986,81.128 C40.386,81.127 41.521,79.993 41.521,78.592 Z\"\r\n            id=\"Shape\"\r\n          />\r\n          <path\r\n            d=\"M18.282,83.24 C17.114,83.24 16.793,83.952 17.559,84.83 L21.806,89.682 C21.961,89.858 22.273,90 22.508,90 L33.492,90 C33.726,90 34.039,89.858 34.193,89.682 L38.44,84.83 C39.207,83.952 38.885,83.24 37.717,83.24 L18.282,83.24 Z\"\r\n            id=\"Shape\"\r\n          />\r\n          <path\r\n            d=\"M16.857,66.322 L39.142,66.322 C40.541,66.322 41.784,65.19 42.04,63.814 C44.63,49.959 55.886,41.575 55.886,27.887 C55.887,12.485 43.401,0 28,0 C12.599,0 0.113,12.485 0.113,27.887 C0.113,41.575 11.369,49.958 13.959,63.814 C14.216,65.19 15.458,66.322 16.857,66.322 Z\"\r\n            id=\"Shape\"\r\n            fill={props.fillColor}\r\n          />\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst TwitterIcon = (props) => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      id=\"Logo\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      width=\"14.88px\"\r\n      height=\"12.24px\"\r\n      viewBox=\"0 0 248 204\"\r\n    >\r\n      <g id=\"Logo_1_\">\r\n        <path\r\n          id=\"blue_background\"\r\n          fill={props.fillColor ? props.fillColor : \"#fff\"}\r\n          d=\"M221.95,51.29c0.15,2.17,0.15,4.34,0.15,6.53c0,66.73-50.8,143.69-143.69,143.69v-0.04\r\n\t\tC50.97,201.51,24.1,193.65,1,178.83c3.99,0.48,8,0.72,12.02,0.73c22.74,0.02,44.83-7.61,62.72-21.66\r\n\t\tc-21.61-0.41-40.56-14.5-47.18-35.07c7.57,1.46,15.37,1.16,22.8-0.87C27.8,117.2,10.85,96.5,10.85,72.46c0-0.22,0-0.43,0-0.64\r\n\t\tc7.02,3.91,14.88,6.08,22.92,6.32C11.58,63.31,4.74,33.79,18.14,10.71c25.64,31.55,63.47,50.73,104.08,52.76\r\n\t\tc-4.07-17.54,1.49-35.92,14.61-48.25c20.34-19.12,52.33-18.14,71.45,2.19c11.31-2.23,22.15-6.38,32.07-12.26\r\n\t\tc-3.77,11.69-11.66,21.62-22.2,27.93c10.01-1.18,19.79-3.86,29-7.95C240.37,35.29,231.83,44.14,221.95,51.29z\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<LightBulb />, rootElement);\r\n"],"sourceRoot":""}